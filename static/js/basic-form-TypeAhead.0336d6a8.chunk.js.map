{"version":3,"file":"static/js/basic-form-TypeAhead.0336d6a8.chunk.js","mappings":"i2CAKA,IAAMA,EAAmB,CAACC,EAAAA,EAAAA,mBAKpBC,EAAe,SAAUC,EAAOC,GAClC,IAAqEC,EAAAC,GAA3BC,EAAAA,EAAAA,UAASJ,EAAMK,OAAS,IAAG,GAA9DC,EAAaJ,EAAA,GAAEK,EAAgBL,EAAA,GACKM,EAAAL,GAAfC,EAAAA,EAAAA,WAAS,GAAM,GAApCK,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAClBG,GAAWC,EAAAA,EAAAA,QAAO,MAsBxB,OApBAC,EAAAA,EAAAA,YAAU,WACNN,EAAiBP,EAAMK,MAC3B,GAAG,CAACL,EAAMK,QAmBNS,EAAAA,cAACC,EAAAA,IAAQ,CACLC,MAAOhB,EAAMgB,MACbC,GAAIjB,EAAMkB,UACVT,OAAQA,EACRJ,MAAOC,EAAca,KAAI,SAACC,GAAI,OAC1BN,EAAAA,cAAA,OAAKO,IAAKD,EAAME,QAAS,kBAbrC,SAAyBF,GACrBpB,EAAMuB,cAAczB,EAAAA,EAAAA,kBAA4B,CAAE0B,QAAS,CAAEC,MAAOL,EAAMH,GAAIjB,EAAMkB,aACpFlB,EAAM0B,SAASN,GACfV,GAAU,GACVC,EAASgB,QAAQC,MACrB,CAQ2CC,CAAgBT,EAAK,GAC/CA,EACC,IAEVU,cA1BR,SAA2BC,GACvB,IAAMC,EAAQD,EAAME,OAAOR,MACrBS,EAAWlC,EAAMK,MAAM8B,QAAO,SAACf,GAAI,OACrCA,EAAKgB,cAAcC,SAASL,EAAMI,cAAc,IAEpD7B,EAAiB2B,GACjBxB,GAAU,EACd,EAoBQ4B,YAAatC,EAAMsC,YACnBC,aAAcvC,EAAMwC,cACpBvC,IAAKU,GACLG,EAAAA,cAAC2B,EAAAA,IAAS,MACV3B,EAAAA,cAAA,sBAGZ,EAEM4B,EAAM,WAGN1C,EAAQ,CAAC,CACX2C,KAAM,QACNC,aAAc,QACdC,KAAM,UACP,CACCF,KAAM,cACNC,aAAc,YACdC,KAAM,UACP,CACCF,KAAM,gBACNC,aAAc,GACdC,KAAM,UACP,CACCF,KAAM,QACNC,aAAc,GACdC,KAAM,WAGJC,EAAQ,GAERC,GAAmBC,EAAAA,EAAAA,GAAQlC,EAAAA,WAAiBf,GAAeC,E","sources":["components/basic/form/TypeAhead.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport wrapper from \"../../../commons/WebComponentWrapper\";\r\nimport { ComboBox, TextInput, ComboBoxMenu } from \"carbon-components-react\";\r\nimport { EventAPI } from \"../../../commons/EventAPI\";\r\n\r\nconst dispatchedEvents = [EventAPI.TYPEAHEAD_CHANGED];\r\n\r\n/*\r\n    Example: <srs-typeahead status=\"error\" content=\"Please contact system administrator.\" prefix=\"error\"/>\r\n*/\r\nconst SrsTypeAhead = function (props, ref) {\r\n    const [filteredItems, setFilteredItems] = useState(props.items || []);\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const inputRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        setFilteredItems(props.items);\r\n    }, [props.items]);\r\n\r\n    function handleInputChange(event) {\r\n        const query = event.target.value;\r\n        const filtered = props.items.filter((item) =>\r\n            item.toLowerCase().includes(query.toLowerCase())\r\n        );\r\n        setFilteredItems(filtered);\r\n        setIsOpen(true);\r\n    }\r\n\r\n    function handleItemClick(item) {\r\n        props.dispatchEvent(EventAPI.TYPEAHEAD_CHANGED, { payload: { value: item, id: props.elementid } });\r\n        props.setValue(item);\r\n        setIsOpen(false);\r\n        inputRef.current.blur();\r\n    }\r\n\r\n    return (\r\n        <ComboBox\r\n            label={props.label}\r\n            id={props.elementid}\r\n            isOpen={isOpen}\r\n            items={filteredItems.map((item) => (\r\n                <div key={item} onClick={() => handleItemClick(item)}>\r\n                    {item}\r\n                </div>\r\n            ))}\r\n            onInputChange={handleInputChange}\r\n            placeholder={props.placeholder}\r\n            selectedItem={props.selected_item}\r\n            ref={inputRef}>\r\n            <TextInput />\r\n            <srs-combomenu />\r\n        </ComboBox>\r\n    );\r\n}\r\n\r\nconst styles = `\r\n    \r\n`\r\nconst props = [{\r\n    name: \"label\",\r\n    defaultValue: \"Label\",\r\n    type: \"string\"\r\n}, {\r\n    name: \"placeholder\",\r\n    defaultValue: \"Search...\",\r\n    type: \"string\"\r\n}, {\r\n    name: \"selected_item\",\r\n    defaultValue: \"\",\r\n    type: \"string\"\r\n}, {\r\n    name: \"items\",\r\n    defaultValue: [],\r\n    type: \"object\"\r\n}]\r\n\r\nconst slots = [];\r\n\r\nconst WrappedComponent = wrapper(React.forwardRef(SrsTypeAhead), props);\r\nexport { WrappedComponent, styles, props, dispatchedEvents, slots };"],"names":["dispatchedEvents","EventAPI","SrsTypeAhead","props","ref","_useState2","_slicedToArray","useState","items","filteredItems","setFilteredItems","_useState4","isOpen","setIsOpen","inputRef","useRef","useEffect","React","ComboBox","label","id","elementid","map","item","key","onClick","dispatchEvent","payload","value","setValue","current","blur","handleItemClick","onInputChange","event","query","target","filtered","filter","toLowerCase","includes","placeholder","selectedItem","selected_item","TextInput","styles","name","defaultValue","type","slots","WrappedComponent","wrapper"],"sourceRoot":""}