{"version":3,"file":"static/js/basic-JSONValuePicker.e9dbede4.chunk.js","mappings":"uVAIMA,EAAmB,GAKnBC,EAAqB,SAAUC,EAAOC,GACxC,IAAQC,EAAmBF,EAAnBE,KACRC,GAD2BH,EAAbI,UAC4BC,EAAAA,EAAAA,UAAS,OAAKC,GAAAC,EAAAA,EAAAA,GAAAJ,EAAA,GACxDK,GADoBF,EAAA,GAAkBA,EAAA,IACAD,EAAAA,EAAAA,UAAS,KAAGI,GAAAF,EAAAA,EAAAA,GAAAC,EAAA,GAA3CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAsB5BG,EAAa,SAACC,GAChB,OAAQ,WACJ,OAAQC,EAAAA,EAAAA,MAAA,OAAKC,MAAO,CAAEC,QAAS,OAAQC,cAAe,MAAOC,QAAS,YAAYC,SAAA,EAC1EC,EAAAA,EAAAA,KAAA,YAAUC,KAAK,MAAMC,KAAK,KAAKP,MAAO,CAACQ,OAAQ,WAAYC,UAAWX,EAAY,UAClFO,EAAAA,EAAAA,KAAA,YAAUC,KAAK,WAAWC,KAAK,KAAKP,MAAO,CAACQ,OAAQ,WAAYC,UAAWX,EAAY,iBAEnG,CACJ,EAwBIY,EAtBgB,SAACvB,EAAMwB,GACvB,IAAMC,EAAcD,EAAKE,QAAO,SAACC,EAAKC,GAAG,OAAKD,EAAIC,EAAI,GAAE5B,GAExD,OAAQkB,EAAAA,EAAAA,KAACW,EAAAA,IAAQ,CAACC,MAAM,YAAWb,SAE3Bc,OAAOC,KAAKP,GAAaQ,KAAI,SAACC,GAC1B,MAAkC,iBAAxBT,EAAYS,IACVhB,EAAAA,EAAAA,KAACiB,EAAAA,IAAQ,CAACC,YAAY,EAAMN,MAAOI,EAAQjB,SAE3Cc,OAAOC,KAAKP,EAAYS,IAAUD,KAAI,SAACI,GACnC,OAAQnB,EAAAA,EAAAA,KAACiB,EAAAA,IAAQ,CAACC,YAAY,EAAMN,MAAOO,EAAYC,WAAY5B,GACvE,OAIAQ,EAAAA,EAAAA,KAACiB,EAAAA,IAAQ,CAACC,YAAY,EAAMN,MAAOI,EAASI,WAAY5B,GAExE,KAGZ,CAEY6B,CAAYvC,EAAMQ,GAC9B,OACII,EAAAA,EAAAA,MAAA,OAAAK,SAAA,EACIC,EAAAA,EAAAA,KAAA,UAAQsB,QA9CK,WACjB/B,GAAe,SAACe,GAAI,OAAKA,EAAKiB,MAAM,GAAI,EAAE,GAC9C,EA4CuCC,SAAUlC,EAAYmC,QAAU,EAAE1B,SAAC,aAGlEC,EAAAA,EAAAA,KAAA,UAAQsB,QA7CO,WACnB/B,EAAe,GACnB,EA2CwCQ,SAAC,eAChCM,IAGb,EAEMqB,EAAM,WAGN9C,EAAQ,CAAC,CACXqB,KAAM,OACN0B,aAAc,CAAC,EACfC,KAAM,WAGJC,EAAQ,GAERC,GAAmBC,EAAAA,EAAAA,GAAQC,EAAAA,WAAiBrD,GAAqBC,E","sources":["components/basic/JSONValuePicker.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport wrapper from \"../../commons/WebComponentWrapper\";\r\nimport { TreeView, TreeNode } from \"carbon-components-react\";\r\n\r\nconst dispatchedEvents = [];\r\n\r\n/*\r\n    Example: <srs-json-value-picker></srs-json-value-picker>\r\n*/\r\nconst SrsJSONValuePicker = function (props, ref) {\r\n    const { data, onChange } = props;\r\n    const [selectedValue, setSelectedValue] = useState(null);\r\n    const [currentPath, setCurrentPath] = useState([]);\r\n\r\n    const handleSelectChange = (event) => {\r\n        const value = event.target.value;\r\n        setSelectedValue(value);\r\n        if (onChange) {\r\n            onChange(value);\r\n        }\r\n    };\r\n\r\n    const handleGoBack = () => {\r\n        setCurrentPath((path) => path.slice(0, -1));\r\n    };\r\n\r\n    const handleGoToRoot = () => {\r\n        setCurrentPath([]);\r\n    };\r\n\r\n    const handleGoToProperty = (key) => {\r\n        setCurrentPath((path) => [...path, key]);\r\n    };\r\n\r\n    const getActions = (elementId) => {\r\n        return  () => {\r\n            return (<div style={{ display: \"flex\", flexDirection: \"row\", padding: \"0px 10px\"}}>\r\n                    <srs-icon name=\"Add\" size=\"16\" style={{cursor: \"pointer\"}} elementid={elementId + \"-add\"}/>\r\n                    <srs-icon name=\"TrashCan\" size=\"16\" style={{cursor: \"pointer\"}} elementid={elementId + \"-drilldown\"}/>\r\n                </div>)\r\n        };  \r\n    }\r\n\r\n    const renderItems = (data, path) => {\r\n        const currentData = path.reduce((obj, key) => obj[key], data);\r\n\r\n        return (<TreeView label=\"Tree View\">\r\n            {\r\n                Object.keys(currentData).map((keyName) => {\r\n                    if(typeof currentData[keyName] == \"object\") {\r\n                        return (<TreeNode isExpanded={true} label={keyName}>\r\n                            {\r\n                                Object.keys(currentData[keyName]).map((subkeyName) => {\r\n                                    return (<TreeNode isExpanded={true} label={subkeyName} renderIcon={getActions}/>)\r\n                                })\r\n                            }\r\n                        </TreeNode>);\r\n                    }else {\r\n                        return (<TreeNode isExpanded={true} label={keyName} renderIcon={getActions}/>);\r\n                    }\r\n                })\r\n            }\r\n        </TreeView>);\r\n    };\r\n\r\n    let items = renderItems(data, currentPath);\r\n    return (\r\n        <div>\r\n            <button onClick={handleGoBack} disabled={currentPath.length <= 0}>\r\n                Go back\r\n            </button>\r\n            <button onClick={handleGoToRoot}>Go to root</button>\r\n            {items}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = `\r\n    \r\n`\r\nconst props = [{\r\n    name: \"data\",\r\n    defaultValue: {},\r\n    type: \"object\"\r\n}]\r\n\r\nconst slots = [];\r\n\r\nconst WrappedComponent = wrapper(React.forwardRef(SrsJSONValuePicker), props);\r\nexport { WrappedComponent, styles, props, dispatchedEvents, slots };"],"names":["dispatchedEvents","SrsJSONValuePicker","props","ref","data","_useState","onChange","useState","_useState2","_slicedToArray","_useState3","_useState4","currentPath","setCurrentPath","getActions","elementId","_jsxs","style","display","flexDirection","padding","children","_jsx","name","size","cursor","elementid","items","path","currentData","reduce","obj","key","TreeView","label","Object","keys","map","keyName","TreeNode","isExpanded","subkeyName","renderIcon","renderItems","onClick","slice","disabled","length","styles","defaultValue","type","slots","WrappedComponent","wrapper","React"],"sourceRoot":""}