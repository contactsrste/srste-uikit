{"version":3,"file":"static/js/basic-templates-MultiSelectAdd.4b686aca.chunk.js","mappings":"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","sources":["components/basic/templates/MultiSelectAdd.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport wrapper from \"../../../commons/WebComponentWrapper\";\r\nimport { Breadcrumb, BreadcrumbItem, Checkbox, Button, UnorderedList } from \"carbon-components-react\";\r\nimport {ArrowRight} from \"@carbon/icons-react\";\r\n\r\nconst dispatchedEvents = [\"ABOUT#clicked\"];\r\n\r\n/*\r\n    Example: <srs-multiselectadd>\r\n            </srs-multiselectadd>\r\n*/\r\nconst SrsMultiSelectAdd = function (props, ref) {\r\n    const initialHierarchy = [\r\n        {\r\n            id: 1,\r\n            name: \"Category 1\",\r\n            children: [\r\n                {\r\n                    id: 11,\r\n                    name: \"Subcategory 1\",\r\n                    children: [\r\n                        {\r\n                            id: 111,\r\n                            name: \"Item 1\",\r\n                            children: [],\r\n                        },\r\n                        {\r\n                            id: 112,\r\n                            name: \"Item 2\",\r\n                            children: [],\r\n                        },\r\n                    ],\r\n                },\r\n                {\r\n                    id: 12,\r\n                    name: \"Subcategory 2\",\r\n                    children: [\r\n                        {\r\n                            id: 121,\r\n                            name: \"Item 3\",\r\n                            children: [],\r\n                        },\r\n                        {\r\n                            id: 122,\r\n                            name: \"Item 4\",\r\n                            children: [],\r\n                        },\r\n                    ],\r\n                },\r\n            ],\r\n        },\r\n        {\r\n            id: 2,\r\n            name: \"Category 2\",\r\n            children: [\r\n                {\r\n                    id: 21,\r\n                    name: \"Subcategory 3\",\r\n                    children: [\r\n                        {\r\n                            id: 211,\r\n                            name: \"Item 5\",\r\n                            children: [],\r\n                        },\r\n                        {\r\n                            id: 212,\r\n                            name: \"Item 6\",\r\n                            children: [],\r\n                        },\r\n                    ],\r\n                },\r\n                {\r\n                    id: 22,\r\n                    name: \"Subcategory 4\",\r\n                    children: [\r\n                        {\r\n                            id: 221,\r\n                            name: \"Item 7\",\r\n                            children: [],\r\n                        },\r\n                        {\r\n                            id: 222,\r\n                            name: \"Item 8\",\r\n                            children: [],\r\n                        },\r\n                    ],\r\n                },\r\n            ],\r\n        }\r\n    ];\r\n\r\n    const [selectedItems, setSelectedItems] = useState([]);\r\n    const [hierarchy, setHierarchy] = useState(initialHierarchy);\r\n    const [selectedPath, setSelectedPath] = useState([]);\r\n\r\n    const handleSelection = (event, { selectedItem }) => {\r\n        setSelectedItems([...selectedItems, selectedItem]);\r\n        setHierarchy(\r\n            hierarchy.map((category) => {\r\n                if (category.id === selectedItem.id) {\r\n                    return { ...category, children: [] };\r\n                }\r\n                if (category.children && category.children.length > 0) {\r\n                    const newChildren = category.children.filter(\r\n                        (child) => child.id !== selectedItem.id\r\n                    );\r\n                    return { ...category, children: newChildren };\r\n                }\r\n                return category;\r\n            })\r\n        );\r\n    };\r\n\r\n    const handleBreadcrumbClick = (index) => {\r\n        setSelectedPath(selectedPath.slice(0, index + 1));\r\n        setHierarchy(\r\n            initialHierarchy\r\n                .filter((category, i) => i <= index)\r\n                .map((category) => {\r\n                    if (selectedPath[index].id === category.id) {\r\n                        return { ...category, children: selectedPath[index].children };\r\n                    }\r\n                    return category;\r\n                })\r\n        );\r\n    };\r\n\r\n    const handleItemExpansion = (index) => {\r\n        const selectedCategory = selectedPath[index];\r\n        const selectedCategoryIndex = hierarchy.findIndex(\r\n            (category) => category.id === selectedCategory.id\r\n        );\r\n        setHierarchy(\r\n            hierarchy.map((category, i) => {\r\n                if (i === selectedCategoryIndex) {\r\n                    return {\r\n                        ...category,\r\n                        children: selectedCategory.children,\r\n                    };\r\n                }\r\n                return category;\r\n            })\r\n        );\r\n        setSelectedPath([...selectedPath.slice(0, index + 1), selectedCategory]);\r\n    };\r\n\r\n    const renderBreadcrumb = () => {\r\n        const breadcrumbItems = selectedPath.map((item, index) => (\r\n            <BreadcrumbItem\r\n                key={item.id}\r\n                href=\"#\"\r\n                onClick={() => handleBreadcrumbClick(index)}\r\n                isCurrentPage={index === selectedPath.length - 1}\r\n            >\r\n                {item.label}\r\n            </BreadcrumbItem>\r\n        ));\r\n\r\n        return (\r\n            <Breadcrumb aria-label=\"Breadcrumb\">\r\n                <BreadcrumbItem href=\"#\" onClick={() => handleBreadcrumbClick(-1)}>\r\n                    Home\r\n                </BreadcrumbItem>\r\n                {breadcrumbItems}\r\n            </Breadcrumb>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {renderBreadcrumb()}\r\n            <div>\r\n                {selectedPath.length === 0 &&\r\n                    hierarchy.map((item) => (\r\n                        <Checkbox\r\n                            id={item.id}\r\n                            labelText={item.name}\r\n                            key={item.id}\r\n                            checked={selectedItems.includes(item.id)}\r\n                            onChange={(event) => handleSelection(event, { selectedItem: item })}\r\n                        />\r\n                    ))}\r\n                {selectedPath.length > 0 &&\r\n                    selectedPath[selectedPath.length - 1].children.map((item) => {\r\n                        const hasChildren = !!item.children;\r\n                        return (\r\n                            <div key={item.id}>\r\n                                <Checkbox\r\n                                    id={item.id}\r\n                                    labelText={item.name}\r\n                                    checked={selectedItems.includes(item.id)}\r\n                                    onChange={(event) => handleSelection(event, { selectedItem: item })}\r\n                                />\r\n                                {hasChildren && (\r\n                                    <Button\r\n                                        size=\"small\"\r\n                                        kind=\"ghost\"\r\n                                        renderIcon={ArrowRight}\r\n                                        onClick={() => handleItemExpansion(selectedPath.length - 1)}\r\n                                    />\r\n                                )}\r\n                            </div>\r\n                        );\r\n                    })}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = `\r\n    \r\n`\r\nconst props = [{\r\n    name: \"errorcode\",\r\n    defaultValue: 403,\r\n    type: \"number\"\r\n}]\r\n\r\nconst slots = [];\r\n\r\nconst WrappedComponent = wrapper(React.forwardRef(SrsMultiSelectAdd), props);\r\nexport { WrappedComponent, styles, props, dispatchedEvents, slots };"],"names":["dispatchedEvents","SrsMultiSelectAdd","props","ref","initialHierarchy","id","name","children","_useState2","_slicedToArray","useState","selectedItems","setSelectedItems","_useState4","hierarchy","setHierarchy","_useState6","selectedPath","setSelectedPath","handleSelection","event","_ref","selectedItem","concat","_toConsumableArray","map","category","_objectSpread","length","newChildren","filter","child","handleBreadcrumbClick","index","slice","i","React","breadcrumbItems","item","BreadcrumbItem","key","href","onClick","isCurrentPage","label","Breadcrumb","renderBreadcrumb","Checkbox","labelText","checked","includes","onChange","hasChildren","Button","size","kind","renderIcon","ArrowRight","selectedCategory","selectedCategoryIndex","findIndex","handleItemExpansion","styles","defaultValue","type","slots","WrappedComponent","wrapper"],"sourceRoot":""}