"use strict";(self.webpackChunksrste=self.webpackChunksrste||[]).push([[5719,1418,325],{50051:function(e,n,t){t.d(n,{f:function(){return r},j:function(){return a}});var r=function(e){var n={};return Object.keys(e).map((function(t){if("string"==typeof e[t])try{n[t]=JSON.parse(e[t])}catch(r){n[t]=e[t]}})),n},a=function(){return"xxxxyyyyxxxxyyyyxyxyyxyxxyxyyxyx".replace(/[xy]/g,(function(e){var n=16*Math.random()|0;return("x"==e?n:3&n|8).toString(16)}))}},89978:function(e,n,t){t.r(n),t.d(n,{WrappedComponent:function(){return f},dispatchedEvents:function(){return d},props:function(){return u},slots:function(){return m},styles:function(){return p}});var r=t(29439),a=t(50390),l=t(37881),o=t(77140),s=t(23611),i=t(62559),d=[s.F.CHECKBOX_CHANGED],c=function(e,n){var t=(0,a.useState)(e.checked||e.value||!1),l=(0,r.Z)(t,2),d=l[0],c=l[1];return(0,a.useEffect)((function(){c(e.checked||e.value||!1),e.setValue(e.checked||e.value||!1)}),[e]),e.elementid?(0,i.jsx)(o.XZJ,{labelText:e.label,checked:d,id:e.elementid,onChange:function(n,t){c(t.checked),e.setValue(t.checked),e.onChange?e.onChange(t.checked):e.dispatchEvent(s.F.CHECKBOX_CHANGED,{payload:{value:t.checked,id:e.elementid}})}}):null},p="\n    \n",u=[{name:"label",defaultValue:"label",type:"string"},{name:"checked",defaultValue:!1,type:"boolean"},{name:"value",defaultValue:!1,type:"boolean"}],m=[],f=(0,l.Z)(a.forwardRef(c),u)},28456:function(e,n,t){t.r(n),t.d(n,{WrappedComponent:function(){return f},dispatchedEvents:function(){return d},props:function(){return u},slots:function(){return m},styles:function(){return p}});var r=t(29439),a=t(50390),l=t(37881),o=t(77140),s=t(23611),i=t(62559),d=[s.F.TEXTAREA_CHANGED],c=function(e,n){var t=(0,a.useState)(e.value||""),l=(0,r.Z)(t,2),d=l[0],c=l[1];(0,a.useEffect)((function(){c(e.value),e.setValue(e.value)}),[e]);return(0,i.jsx)("div",{style:{"--cds-label-01-font-size":"0.9rem","--cds-label-01-font-weight":800},children:(0,i.jsx)(o.Kx8,{id:e.elementid,labelText:e.label,rows:e.rows,cols:e.cols,value:d,disabled:e.disabled,placeholder:e.placeholder,readOnly:e.readonly,onBlur:function(n){var t;e.onChange&&e.onChange((null===(t=n.target)||void 0===t?void 0:t.value)||"")},onChange:function(n){var t,r,a;c((null===(t=n.target)||void 0===t?void 0:t.value)||""),e.dispatchEvent(s.F.TEXTAREA_CHANGED,{payload:{value:(null===(r=n.target)||void 0===r?void 0:r.value)||"",id:e.elementid}}),e.setValue((null===(a=n.target)||void 0===a?void 0:a.value)||"")}})})},p="\n    .cds--text-area {\n        border: 1px solid lightgray !important;\n        border-radius: 5px;\n    }\n\n    .cds--text-area:focus, .cds--text-area:active {\n        outline: 0px !important;\n        border: 2px solid !important;\n        border-radius: 5px;\n    } \n",u=[{name:"label",defaultValue:"Label",type:"string"},{name:"rows",defaultValue:4,type:"number"},{name:"cols",defaultValue:100,type:"number"},{name:"value",defaultValue:"",type:"string"},{name:"disabled",defaultValue:!1,type:"boolean"},{name:"placeholder",defaultValue:"Enter value...",type:"string"},{name:"readonly",defaultValue:!1,type:"boolean"}],m=[],f=(0,l.Z)(a.forwardRef(c),u)},12071:function(e,n,t){t.r(n),t.d(n,{AddElementPopover:function(){return Z},Element:function(){return k}});var r=t(4942),a=t(93433),l=t(1413),o=t(29439),s=t(50390),i=t(77140),d=t(53097),c=t(83598),p=t(15340),u=t(88011),m=t(61577),f=t(57350),h=t(28456),v=t(89978),x=t(59615),g=t(57238),y=t(44018),b=t(50051),E=t(62559),k=function(e){var n,t,r=e.elementData,a=e.index,i=e.selected,c=e.selectedElement,p=e.handleDragStart,u=e.handleDrop,m=e.handleDragOver,f=e.handleElementClick,h=e.handleAddElement,v=e.handleAddElements,x=e.handleUpdateElement,g=e.handleDeleteElement,y=e.handleSetElementText,b=e.handleDragLeave,k=e.componentMetaData,w=e.theme,D=(e.isDraggable,e.setIsDraggable),I=(0,s.useState)(!1),N=(0,o.Z)(I,2),S=N[0],P=N[1],A=r,L=(0,s.useRef)(null);if(!A)return null;var z=C(A,{isEditing:S,index:a,elementElProps:{selectedElement:c,handleDragStart:p,handleDrop:u,handleDragOver:m,handleElementClick:f,handleAddElement:h,handleAddElements:v,handleUpdateElement:x,handleDeleteElement:g,handleSetElementText:y,handleDragLeave:b,handleDoubleClick:function(){P(!0)},handleBlur:function(e){P(!1),y(a,e.target.textContent)},componentMetaData:k,theme:w,setIsDraggable:D},elementMetaData:k[(null===A||void 0===A?void 0:A.type)||""]});return(0,E.jsxs)("div",{className:i?"element-container ele-container-hover":"element-container","data-index":a,ref:L,children:[(0,E.jsx)("div",(0,l.Z)((0,l.Z)({draggable:!1},{}),{},{onDragOver:function(e){return m(e,a)},onDragLeave:b,className:"element-wrapper",children:(0,E.jsx)("div",{className:"element",children:z})})),"srs-contentslot"!==A.type?(0,E.jsx)("div",{className:"element-glass",style:{zIndex:i?6e3:parseInt("1"+a.replaceAll("-",""))},onClick:function(e){e.target.closest(".element-container").getAttribute("data-index")==a&&f(A)},children:(0,E.jsxs)("div",{className:"element-actions",style:{zIndex:parseInt("1"+a.replaceAll("-",""))+1},children:[(0,E.jsx)(d.x8,{size:"20",onClick:function(){return g(a)},style:{border:"1px solid var(--cds-layer)",borderRadius:"20%",backgroundColor:"var(--cds-text-secondary)",color:"var(--cds-background,#ffffff)"}}),(0,E.jsx)(Z,{elementType:A.type,elementProps:A.props,selected:i,handleAddElement:h,handleUpdateElement:x,handleElementClick:f,index:a,metadata:k,isNew:!1,theme:w,setIsDraggable:D}),(0,E.jsx)(Z,{elementType:"",elementProps:{},parentElement:A,selected:i,handleAddElement:h,handleUpdateElement:x,handleElementClick:f,index:a,metadata:k,isNew:!0,theme:w,setIsDraggable:D,isContainer:!1,isSlot:"srs-contentslot"==A.type,slotDetails:(null===(n=A.props)||void 0===n?void 0:n.slot_details)||{}}),(0,E.jsx)(j,{value:A,applyElementData:function(e){x(a,e.props,e.children,e.type)},handleElementClick:f,theme:w})]})}):(0,E.jsx)("div",{className:"element-slot-actions",style:{zIndex:i?6e3:parseInt("1"+a.replaceAll("-",""))+1},onClick:function(e){e.target.closest(".element-container").getAttribute("data-index")==a&&f(A)},children:(0,E.jsx)(Z,{elementType:"",elementProps:{},parentElement:A,selected:i,handleAddElement:h,handleUpdateElement:x,handleElementClick:f,index:a,metadata:k,isNew:!0,theme:w,setIsDraggable:D,isContainer:!1,isSlot:"srs-contentslot"==A.type,slotDetails:(null===(t=A.props)||void 0===t?void 0:t.slot_details)||{}})})]})},j=function(e){var n=e.value,t=e.applyElementData,r=e.handleElementClick,a=e.theme,l=(0,s.useState)(!1),u=(0,o.Z)(l,2),m=u[0],f=u[1],v=(0,s.useState)(n),g=(0,o.Z)(v,2),y=g[0],k=g[1],j=(0,s.useState)(!1),C=(0,o.Z)(j,2),w=C[0],Z=C[1],D=function(e){f(!1),r(null),e&&e.stopPropagation()},I=(0,x.Z)(h.styles)(h.WrappedComponent);return(0,E.jsxs)(i.J2e,{autoAlign:!0,caret:!1,dropShadow:!1,highContrast:!1,open:m,onClick:function(e){return e.stopPropagation()},onClose:function(){return f(!m)},children:[(0,E.jsx)(c.Zw,{size:20,onClick:function(e){return function(e){f(!0),e&&e.stopPropagation()}(e)},style:{border:"1px solid var(--cds-layer)",borderRadius:"20%",backgroundColor:"var(--cds-text-secondary)",color:"var(--cds-background,#ffffff)"}}),(0,E.jsxs)(i.yky,{className:w?"element-popover popover-fullscreen":"element-popover",children:[(0,E.jsxs)("div",{className:"properties-panel-header",children:[(0,E.jsx)("div",{className:"properties-panel-label",children:"Element Data"}),(0,E.jsx)(d.x8,{size:"20",style:{position:"absolute",right:0,top:3,color:"var(--cds-background,#ffffff)"},onClick:function(e){D(),e.stopPropagation()}}),w?(0,E.jsx)(p.gR,{size:"16",style:{position:"absolute",right:20,top:3,color:"var(--cds-background,#ffffff)"},onClick:function(e){Z((function(e){return!1})),e.stopPropagation()}}):(0,E.jsx)(p.Yq,{size:"16",style:{position:"absolute",right:20,top:3,color:"var(--cds-background,#ffffff)"},onClick:function(e){Z((function(e){return!0})),e.stopPropagation()}})]}),(0,E.jsx)("div",{className:"json-editor-actions",children:(0,E.jsx)(i.zxk,{kind:"ghost",onClick:function(e){var n;t(((n=y||{}).elementId=n.elementId||(0,b.j)(),n.children&&n.children.map((function(e){e.elementId=e.elementId||(0,b.j)()})),n)),D(),e.stopPropagation()},children:"Apply"})}),(0,E.jsx)("div",{className:"jsonEditor",children:(0,E.jsx)(I,{label:"Element Data",placeholder:JSON.stringify([{type:"srs-container",props:{title:"Section #1"},children:[]}],null,4),rows:18,value:JSON.stringify(y||{},null,4),onChange:function(e){k((function(n){var t=n;try{t=JSON.parse(e||"")}catch(r){console.error("Error parsing element data... changes are not applied")}return t}))},theme:a})})]})]})},C=function(e,n){var t=n.isEditing,r=n.index,o=n.elementElProps,s=n.elementMetaData,i=o.selectedElement,d=o.handleAddElement,c=(o.handleAddElements,o.handleUpdateElement),p=o.handleBlur,u=o.handleElementClick,m=o.componentMetaData,f=o.theme,h=o.setIsDraggable,v=null,x=(null===e||void 0===e?void 0:e.type)||"";if("section"==e.type)v=(0,E.jsxs)("div",{className:"section-container",children:[e.children&&0!=e.children.length?null:(0,E.jsx)(E.Fragment,{children:(0,E.jsx)("div",{className:"add-element-buttons",children:(0,E.jsx)(Z,{elementType:e.type,handleAddElement:d,handleUpdateElement:c,handleElementClick:u,index:r,metadata:m,isNew:!0,theme:f,setIsDraggable:h,isContainer:!0})})}),(0,E.jsx)("div",{className:"section-element",children:(0,E.jsx)("div",{className:"sub-elements",children:e.children.map((function(e,n){return(0,E.jsx)(k,(0,l.Z)({elementData:e,selected:e.elementId==((null===i||void 0===i?void 0:i.elementId)||"-1"),parentIndex:"".concat(r),index:"".concat(r,"-").concat(n)},o),"".concat(r,"-").concat(n))}))})})]});else{var g=[];if(s.slots&&s.slots.length>0){var y=(0,a.Z)(s.slots),b=[],j=[];e.children&&e.children.map((function(e){var n,t;"srs-contentslot"!=e.type?(y=e.props.slotname?y.filter((function(n){return n.name!=e.props.slotname})):y.filter((function(e){return"default"!=e.name})),b.push(e)):null!==(n=e.props)&&void 0!==n&&n.slotname?j.push(null===(t=e.props)||void 0===t?void 0:t.slotname):j.push({name:"default"})})),b.length>0?b.map((function(e,n){g.push((0,E.jsx)(k,(0,l.Z)({elementData:e,selected:e.elementId===((null===i||void 0===i?void 0:i.elementId)||"-1"),parentIndex:"".concat(r),index:"".concat(r,"-").concat(n)},o),"".concat(r,"-").concat(n)))})):e.children&&e.children.map((function(e,n){g.push((0,E.jsx)(k,(0,l.Z)({elementData:e,selected:e.elementId==((null===i||void 0===i?void 0:i.elementId)||"-1"),parentIndex:"".concat(r),index:"".concat(r,"-").concat(n)},o),"".concat(r,"-").concat(n)))}))}v=(0,E.jsx)("div",{style:{width:"100%",pointerEvents:"all"},onBlur:p,contentEditable:t,onClick:function(n){n.target.closest(".element-container").getAttribute("data-index")==r&&u(e)},children:(0,E.jsx)(x,(0,l.Z)((0,l.Z)({},e.props),{},{children:g}))})}return v},w=function(e,n){if("$DYNAMIC$"!=e.name)return e.name},Z=function(e){var n=e.elementType,t=void 0===n?"":n,r=(e.parentElement,e.selected),a=e.handleAddElement,d=e.handleUpdateElement,c=e.handleElementClick,p=e.index,f=e.metadata,h=e.elementProps,v=void 0===h?[]:h,x=e.isNew,g=void 0===x||x,y=e.theme,b=e.setIsDraggable,k=e.isContainer,j=e.isSlot,C=e.slotDetails,Z=(0,s.useState)(!1),N=(0,o.Z)(Z,2),S=N[0],P=N[1],A=(0,s.useState)(g?"list":"props"),L=(0,o.Z)(A,2),z=L[0],O=L[1],T=j?{slotname:w(C)}:{},V=(0,s.useState)((0,l.Z)((0,l.Z)({},v),T)),R=(0,o.Z)(V,2),_=R[0],U=(R[1],(0,s.useState)(p)),M=(0,o.Z)(U,2),B=M[0],J=(M[1],(0,s.useState)(t)),W=(0,o.Z)(J,2),F=W[0],H=W[1];(0,s.useEffect)((function(){O(g?"list":"props")}),[r]);var X=function(){O(g?"list":"props"),P(!1),b(!0),c(null)},G=function(e){P(!0),b(!1),e&&e.stopPropagation()},Y=(0,E.jsx)(I,{openProps:function(e){H(e),O("props")},closePopover:X}),q=function(e){var n;return f&&f[e]&&(null===(n=f[e])||void 0===n?void 0:n.props)||[]}(F),K=(0,E.jsx)(D,{selectedElement:{type:F,meta:q,props:_,theme:y},applyChange:function(e,n,t){return function(r){if(P(!1),O(g?"list":"props"),g)if(k)a(e,n,null,t,r);else{var l=n.lastIndexOf("-"),o=n.slice(0,l),s=n.slice(l+1);-1==l?(o="",s="0"):s=parseInt(s)+1+"",a(e,o,s,t,r)}else d(n,r);b(!0),c&&c(null)}}(F,B,q),closePopover:X,openElementList:function(){H(""),O("list")}});return(0,E.jsxs)(i.J2e,{autoAlign:!0,caret:!1,dropShadow:!1,highContrast:!1,open:S,onClick:function(e){return e.stopPropagation()},onClose:function(){return P(!S)},children:["list"==z?(0,E.jsx)(u.mm,{size:20,onClick:function(e){return G(e)},style:{border:"1px solid var(--cds-layer)",borderRadius:"20%",backgroundColor:"var(--cds-text-secondary)",color:"var(--cds-background,#ffffff)"}}):(0,E.jsx)(m.I8,{size:20,onClick:function(e){return G(e)},style:{border:"1px solid var(--cds-layer)",borderRadius:"20%",backgroundColor:"var(--cds-text-secondary)",color:"var(--cds-background,#ffffff)"}}),"list"==z?Y:K]})},D=function(e){var n=e.selectedElement,t=e.applyChange,c=e.closePopover,u=e.openElementList,m=(0,s.useState)(n.props||{}),y=(0,o.Z)(m,2),b=y[0],k=y[1],j=(0,s.useState)(!1),C=(0,o.Z)(j,2),w=C[0],Z=C[1];if(null==n)return null;var D=(0,a.Z)(n.meta),I=[];return D.map((function(e){0==I.filter((function(n){return n.name==e.name||"context"==e.name||"theme"==e.name||"clan"==e.name})).length&&I.push(e)})),(0,E.jsxs)(i.yky,{className:w?"element-popover popover-fullscreen":"element-popover",children:[(0,E.jsxs)("div",{className:"properties-panel-header",children:[(0,E.jsx)("div",{className:"properties-panel-label",children:"Properties"}),(0,E.jsx)(d.x8,{size:"20",style:{position:"absolute",right:0,top:3,color:"var(--cds-background,#ffffff)"},onClick:function(e){c(),e.stopPropagation()}}),w?(0,E.jsx)(p.gR,{size:"16",style:{position:"absolute",right:20,top:3,color:"var(--cds-background,#ffffff)"},onClick:function(e){Z((function(e){return!1})),e.stopPropagation()}}):(0,E.jsx)(p.Yq,{size:"16",style:{position:"absolute",right:20,top:3,color:"var(--cds-background,#ffffff)"},onClick:function(e){Z((function(e){return!0})),e.stopPropagation()}})]}),(0,E.jsxs)("div",{className:"properties-panel",children:[(0,E.jsxs)("div",{className:"properties-panel-actions",children:[(0,E.jsx)(i.zxk,{kind:"ghost",onClick:function(e){t(b),e.stopPropagation()},children:"Apply"}),(0,E.jsx)(i.zxk,{kind:"ghost",onClick:function(e){u(),e.stopPropagation()},children:"Elements"})]}),(0,E.jsxs)("p",{children:["Element: ",n.type]}),I.map((function(e){var n=null;switch(e.type){case"string":case"number":return n=(0,x.Z)(f.styles)(f.WrappedComponent),(0,E.jsx)(n,{elementid:e.name,label:e.name,value:b[e.name]||"",onChange:function(n){k((function(t){return(0,l.Z)((0,l.Z)({},t),{},(0,r.Z)({},e.name,n))}))},theme:g.props.theme});case"boolean":console.log("In boolean",v.WrappedComponent),n=(0,x.Z)(v.styles)(v.WrappedComponent);var t=!b.hasOwnProperty(e.name)||b[e.name];return(0,E.jsx)(n,{elementid:e.name,label:e.name,value:t,onChange:function(n){k((function(t){return(0,l.Z)((0,l.Z)({},t),{},(0,r.Z)({},e.name,n))}))},theme:g.props.theme});case"object":return n=(0,x.Z)(h.styles)(h.WrappedComponent),(0,E.jsx)(n,{label:e.name,placeholder:JSON.stringify({padding:0,border:"1px solid white"},null,4),value:b[e.name]||"",onChange:function(n){k((function(t){return(0,l.Z)((0,l.Z)({},t),{},(0,r.Z)({},e.name,n))}))},theme:g.props.theme})}}))]})]})},I=function(e){var n=e.openProps,t=e.closePopover,r=(0,s.useState)(!1),a=(0,o.Z)(r,2),l=a[0],c=a[1],u=(0,s.useState)(""),m=(0,o.Z)(u,2),f=m[0],h=m[1],v=Object.keys(y.m),x=[];v.map((function(e){x.push({name:e,label:y.m[e].label,order:y.m[e].order})}));var g=(x=(x=x.sort((function(e,n){return e.order>n.order?1:-1}))).filter((function(e){return!f||(e.name.toLowerCase().indexOf(f.toLowerCase())>-1||e.label.toLowerCase().indexOf(f.toLowerCase())>-1)}))).map((function(e){return(0,E.jsx)(i.zxk,{kind:"ghost",onClick:function(){return n(e.name)},className:"element-btn",children:e.label})}));return(0,E.jsxs)(i.yky,{className:l?"element-popover popover-fullscreen":"element-popover",children:[(0,E.jsxs)("div",{className:"properties-panel-header",children:[(0,E.jsx)("div",{className:"properties-panel-label",children:"Element Selection"}),(0,E.jsx)(d.x8,{size:"20",style:{position:"absolute",right:0,top:3,color:"var(--cds-background,#ffffff)"},onClick:function(e){t(),e.stopPropagation()}}),l?(0,E.jsx)(p.gR,{size:"16",style:{position:"absolute",right:20,top:3,color:"var(--cds-background,#ffffff)"},onClick:function(e){c((function(e){return!1})),e.stopPropagation()}}):(0,E.jsx)(p.Yq,{size:"16",style:{position:"absolute",right:20,top:3,color:"var(--cds-background,#ffffff)"},onClick:function(e){c((function(e){return!0})),e.stopPropagation()}})]}),(0,E.jsx)("div",{className:"search-panel",children:(0,E.jsx)(i.olm,{size:"sm",defaultValue:"",labelText:"",closeButtonLabelText:"Clear search input",id:"search-1",style:{color:"var(--cds-text-primary,#161616)"},onChange:function(e){h((function(n){return e.target.value}))}})}),(0,E.jsx)("div",{className:"element-btn-container",children:g})]})}},57238:function(e,n,t){t.r(n),t.d(n,{WrappedComponent:function(){return j},dispatchedEvents:function(){return x},props:function(){return E},slots:function(){return k},styles:function(){return b}});var r=t(1413),a=t(37762),l=t(93433),o=t(74165),s=t(15861),i=t(29439),d=t(50390),c=t(33385),p=t(44018),u=t(37881),m=t(77140),f=t(12071),h=t(50051),v=t(62559),x=[];function g(e){!function(e){e.composed&&Object.defineProperty(e,"target",{value:e.composedPath()[0],writable:!1,enumerable:!0,configurable:!0})}(e)}var y=function(e,n){var u=(0,d.useState)(!1),x=(0,i.Z)(u,2),y=x[0],b=x[1],E=(0,d.useState)(null),k=(0,i.Z)(E,2),j=k[0],C=k[1],w=(0,d.useState)(!1),Z=(0,i.Z)(w,2),D=Z[0],I=Z[1],N=(0,d.useState)({}),S=(0,i.Z)(N,2),P=S[0],A=S[1],L=(0,d.useState)(!0),z=(0,i.Z)(L,2),O=z[0],T=z[1],V=null,R=(0,d.useState)([{elementId:(0,h.j)(),type:"srs-input",props:{label:"Hello"}},{elementId:(0,h.j)(),type:"srs-container",props:{styles:{border:"1px solid red",padding:10}},children:[{elementId:(0,h.j)(),type:"srs-input",props:{placeholder:"This is the first child"}},{elementId:(0,h.j)(),type:"srs-input",props:{value:"This is the second child"}}]}]),_=(0,i.Z)(R,2),U=_[0],M=_[1];(0,d.useEffect)((function(){var e;return y||((e=n.current)&&(e.addEventListener("mouseup",g),e.addEventListener("mousedown",g),e.addEventListener("mouseover",g),e.addEventListener("mouseleave",g),e.addEventListener("mouseenter",g),e.addEventListener("touchstart",g),e.addEventListener("touchmove",g),e.addEventListener("touchend",g)),b(!0),B().then((function(){return I(!0)}))),function(){!function(e){e&&(e.removeEventListener("mouseup",g),e.removeEventListener("mousedown",g),e.removeEventListener("mouseover",g),e.removeEventListener("mouseleave",g),e.removeEventListener("mouseenter",g),e.removeEventListener("touchstart",g),e.removeEventListener("touchmove",g),e.removeEventListener("touchend",g))}(n.current)}}),[e.elementid]);var B=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return e.abrupt("return",(0,c.z)(Object.keys(p.m)));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var n,r,a,l,s,i,d,c,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object.keys(p.m),r={},e.t0=(0,o.Z)().keys(n);case 3:if((e.t1=e.t0()).done){e.next=16;break}return a=e.t1.value,l=n[a],e.next=8,t(61413)("./".concat(p.m[l].component));case 8:s=e.sent,i=s.styles,d=s.props,c=s.dispatchedEvents,u=s.slots,r[l]={styles:i,props:d,dispatchedEvents:c,slots:u},e.next=3;break;case 16:A(r);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a={elementId:(0,h.j)(),type:e,props:r,meta:[]};"section"===e?a.children=[]:(a.meta=t,t&&t.map((function(e){a.props[e.name]=r[e.name]||e.defaultValue})),P[e].slots&&P[e].slots.length>0&&(a.children=[],P[e].slots.map((function(e){var n={type:"srs-contentslot",props:{slot_details:e},meta:[{name:"slot_details",type:"object",defaultValue:{name:"default"}}]};a.children.push(n)})))),M((function(e){return X((0,l.Z)(e))})),M(null===n?function(e){return[].concat((0,l.Z)(e),[a])}:function(e){var t=(0,l.Z)(e);if(n){var r=F(n,t);r.children=r.children||[],r.children.push(a),r.children=X(r.children)}else t.push(a);return t})},F=function(e,n){var t=e.split("-").map((function(e){return parseInt(e)})),r=null;return function e(n,t){var a=n[t.shift()];0===t.length?r=a:e(a.children,t)}(n,t),r},H=function(e){W(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0)};function X(e){return e.filter((function(n){if("srs-contentslot"!=n.type)return n.children&&(n.children=X(n.children)),!0;var t,r,l,o=new Set,s=(0,a.Z)(e);try{for(s.s();!(l=s.n()).done;){var i=l.value;"srs-contentslot"!==i.type&&(o.has(i.props.slotname||"default")||o.add(i.props.slotname||"default"))}}catch(c){s.e(c)}finally{s.f()}var d=(null===(t=n.props)||void 0===t||null===(r=t.slot_details)||void 0===r?void 0:r.name)||"default";return!o.has(d)}))}var G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;M((function(o){var s=(0,l.Z)(o);if(e){var i=F(e,s);i.type=a||i.type,i.props=(0,r.Z)((0,r.Z)({},i.props),n),t&&(i.children=t)}return s}))},Y=function(e,n){!function(e,n){var t=(0,l.Z)(U),r=e.split("-").map((function(e){return parseInt(e)})),a=n.split("-").map((function(e){return parseInt(e)})),o=r.length,s=a.length,i=F(e.slice(0,e.lastIndexOf("-")),t),d=i||1!=o?i.children[r[o-1]]:t[e],c=n.slice(0,n.lastIndexOf("-")),p=F(c,t);p=1==s?t:p;var u=a[s-1];i?i.children.splice(r[o-1],1):t.splice(e,1),1==s?p.splice(u,0,d):p.children.splice(u,0,d),M(t)}(e,n)},q={selectedElement:j,handleDragStart:function(e,n){V||(V=n,console.log("handleDragStart ",n))},handleDrop:function(e,n){e.preventDefault(),e.stopPropagation(),e.currentTarget.classList.remove("drag-over"),Y(V,n)},handleDragOver:function(e,n){e.preventDefault(),e.dataTransfer.dropEffect="move",e.currentTarget.classList.add("drag-over")},handleElementClick:function(e){C(e)},handleAddElement:H,handleAddElements:function(e){e.map((function(e){var n=e.type,t=e.parentIndex,r=void 0===t?null:t,a=e.dropIndx,l=void 0===a?null:a,o=e.elementPropsMeta,s=void 0===o?[]:o,i=e.elementProps;W(n,r,l,s,void 0===i?{}:i)}))},handleUpdateElement:G,handleDeleteElement:function(e){!function(e){M((function(n){var t=(0,l.Z)(n),r=e.slice(0,e.lastIndexOf("-")),a=e.split("-");if(""===r)t.splice(e,1);else{var o,s=F(r,t),i=parseInt(a[a.length-1]);s.children=s.children||[];var d=(null===(o=P[s.type])||void 0===o?void 0:o.slots)||[];d&&d.length>0&&(s.children=s.children||[],d.map((function(e){var n={type:"srs-contentslot",props:{slot_details:e},meta:[{name:"slot_details",type:"object",defaultValue:{name:"default"}}]};0==s.children.filter((function(n){var t,r;return"srs-contentslot"==n.type&&(null===(t=n.props)||void 0===t||null===(r=t.slot_details)||void 0===r?void 0:r.name)===e.name})).length&&s.children.push(n)}))),s.children=s.children.filter((function(e,n){return n!==i})),s.children=X(s.children)}return t})),C(null)}(e)},handleSetElementText:function(e,n){!function(e,n){M((function(t){var r=(0,l.Z)(t);return F(e,r).text=n,r}))}(e,n)},handleDragLeave:function(e){e.currentTarget.classList.remove("drag-over")},componentMetaData:P,isDraggable:O,setIsDraggable:T};return D?(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:"page-builder",children:(0,v.jsxs)("div",{className:"page-canvas",children:[U.map((function(n,t){return(0,v.jsx)(f.Element,(0,r.Z)((0,r.Z)({elementData:n,index:t.toString(),selected:n.elementId===((null===j||void 0===j?void 0:j.elementId)||"-1")},q),{},{theme:e.theme}),t)})),0==U.length?(0,v.jsx)("div",{className:"add-element-buttons",children:(0,v.jsx)(f.AddElementPopover,{handleAddElement:H,handleUpdateElement:G,index:"",metadata:P,isNew:!0,theme:e.theme,setIsDraggable:T})}):null]})})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(m.y5n,{type:"single",style:{marginBottom:8}}),(0,v.jsx)(m.y5n,{type:"multi"})]})},b="\n\n  .json-editor-actions {\n    display: flex;\n    flex-direction: row-reverse;\n  }\n\n  .ele-container-hover {\n    border: 1px solid var(--cds-text-secondary);\n    color: var(--cds-background) !important;\n    padding: 5px;\n  }\n\n  .element-glass {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.5);\n    opacity: 0\n  }\n\n  .element-actions {\n    visibility: hidden;\n    display: flex;\n    justify-content: center;\n    color: var(--cds-text-secondary);\n    padding: 5px;\n    top: 40%;\n    left: 48%;\n    position: absolute;\n  }\n\n  .ele-container-hover > .element-glass {\n    background-color: var(--cds-field) !important;\n    opacity: 1 !important;\n  }\n\n  .ele-container-hover > .element-glass > .element-actions {\n    visibility: visible !important;\n  }\n\n  .cds--search {\n    width: 80% !important;\n    padding: 5px !important;\n  }\n\n  .cds--search-close {\n    padding: 5px !important;\n    margin-top: 5px !important;\n  }\n\n  .element-popover {\n    margin-top: 3rem;\n    border: 1px solid var(--cds-text-secondary);\n    width: 20rem !important;\n    display: flex;\n    flex-wrap: wrap;\n    min-height: 30rem;\n    max-height: 40rem;\n    overflow-y: auto;\n  }\n\n  .element-popover.popover-fullscreen {\n    width: 40vw !important;\n    max-width: 100vw !important;\n    height:80vw !important;\n  }\n\n  .element-btn-container {\n    padding: 5px;\n    display: flex;\n    flex-wrap: wrap;\n  }\n\n  .element-btn {\n    background-color: var(--cds-background) !important;\n    color: var(--cds-text-primary,#161616) !important;\n    margin: 5px !important;\n    width: 44% !important;\n  }\n\n  .section-container {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n  }\n\n  .page-builder {\n    display: flex;\n    flex-direction: row;\n    gap: 10px;\n    padding: 10px;\n    border: 2px solid black;\n  }\n  \n  .page-canvas {\n    width: 100%;\n  }\n\n  .props-panel {\n    width: 19%;\n  }\n\n  .element {\n    display: flex;\n    flex-direction: row;\n    border-radius: 5px;\n    flex-wrap: wrap;\n    justify-content: space-around;\n    align-items: stretch;\n    width: 100%;\n    pointer-events: all;\n  }\n\n  .element-slot-actions {\n    position: absolute;\n    text-align: center;\n    top: 0px;\n    z-index: 0;\n    width: 100%;\n    border-radius: 5px;\n    margin: 2px;\n    height: 40px;\n    border: 1px dotted var(--cds-background);\n    background-color: var(--cds-text-secondary,#161616);\n    padding: 5px;\n  }\n\n  .element-container {\n    position: relative;\n  }\n\n//   .element-container:hover {\n//     border: 1px solid var(--cds-text-secondary);\n//   }\n  \n  .drag-over {\n    background-color: #ddd;\n  }\n  \n  .text-element {\n    font-size: 20px;\n    font-weight: bold;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    cursor: text;\n  }\n  \n  .text-element.editing {\n    cursor: auto;\n    border: 2px solid blue;\n  }\n  \n  .section-element {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    padding: 10px;\n    border: 2px solid black;\n    border-radius: 5px;\n  }\n  \n  .add-element-buttons {\n    display: flex;\n    flex-direction: row;\n    gap: 10px;\n    margin-top: 10px;\n    width: 100%;\n    border: 2px dotted white;\n    justify-content: center;\n    background-color: var(--cds-text-secondary);\n    padding: 10px;\n}\n  \n.delete-element-button {\n    background-color: #ff0000;\n    color: #ffffff;\n    border: none;\n    border-radius: 50%;\n    width: 25px;\n    height: 25px;\n    font-size: 16px;\n    cursor: pointer;\n}\n\n.properties-panel {\n    padding: 20px;\n}\n\n.properties-panel-header {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    background-color: var(--cds-text-secondary);\n    color: var(--cds-background,#ffffff)!important;\n    position: sticky;\n    top: 0px;\n    z-index: 100;\n}\n\n.properties-panel-label {\n    font-weight: 500;\n    padding: 10px;\n}\n\n.properties-panel-actions {\n    display: flex;\n    flex-flow: row-reverse;\n}\n\n  \n",E=[{name:"page_id",defaultValue:"",type:"string"}],k=[],j=(0,u.Z)(d.forwardRef(y),E)}}]);
//# sourceMappingURL=ui-studio-Element.e3cfc41b.chunk.js.map