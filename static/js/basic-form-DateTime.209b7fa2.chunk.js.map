{"version":3,"file":"static/js/basic-form-DateTime.209b7fa2.chunk.js","mappings":"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","sources":["components/basic/form/DateTime.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport wrapper from \"../../../commons/WebComponentWrapper\";\r\nimport { DatePicker, DatePickerInput, TimePicker, TimePickerSelect, SelectItem } from \"carbon-components-react\";\r\nimport { EventAPI } from \"../../../commons/EventAPI\";\r\n\r\nconst dispatchedEvents = [EventAPI.DATETIME_CHANGED];\r\n\r\n/*\r\n    Example: <srs-datetime type=\"simple\" format=\"d-m-Y\" placeholder=\"dd/mm/yyyy\" max_date=\"\" min_date=\"\" disable=\"true\" show_time=\"false\" value=\"\"/>\r\n*/\r\nconst SrsDateTime = function (props, ref) {\r\n    let currentValue = props.value || null;\r\n    let currentDateValue = currentValue && currentValue.indexOf(\" \") > -1? currentValue.split(\" \")[0]: null;\r\n    let currentTimeValue = currentValue && currentValue.indexOf(\" \") > -1? currentValue.split(\" \")[1]: null;\r\n    const [selectedDate, setSelectedDate] = useState(currentDateValue || null);\r\n    const [selectedTime, setSelectedTime] = useState(currentTimeValue || null);\r\n\r\n    const handleDateChange = (value) => {\r\n        setSelectedDate(value);\r\n        props.dispatchEvent(EventAPI.DATETIME_CHANGED, { payload: `${value} ${selectedTime || \"\"}` });\r\n        props.setValue(`${value} ${selectedTime || \"\"}`);\r\n    };\r\n\r\n    const handleTimeChange = (value) => {\r\n        setSelectedTime(value);\r\n        props.dispatchEvent(EventAPI.DATETIME_CHANGED, { payload: `${selectedDate || \"\"} ${value}` });\r\n        props.setValue(`${selectedDate || \"\"} ${value}`);\r\n    };\r\n\r\n    let dateProps = {};\r\n    if (props.type) dateProps.datePickerType = props.type;\r\n    if (props.format) dateProps.dateFormat = props.format;\r\n    if (props.max_date) dateProps.maxDate = props.max_date;\r\n    if (props.locale) dateProps.locale = props.locale;\r\n    if (props.min_date) dateProps.minDate = props.min_date;\r\n    if (props.disable) dateProps.disable = props.disable;\r\n\r\n    dateProps.value = selectedDate;\r\n    dateProps.onChange = handleDateChange;\r\n\r\n    let result = null;\r\n    let dateType = props.type || \"simple\";\r\n    let timePickerEl = props.show_time? (<TimePicker\r\n        id={\"timepicker_\" + props.elementid}\r\n        labelText=\"Time\"\r\n        value={selectedTime}\r\n        onChange={handleTimeChange}\r\n      >\r\n        <TimePickerSelect id=\"time-picker-select-id\" labelText=\"AM/PM\">\r\n          <SelectItem value=\"AM\" text=\"AM\" />\r\n          <SelectItem value=\"PM\" text=\"PM\" />\r\n        </TimePickerSelect>\r\n      </TimePicker>): null;\r\n\r\n    let inlineStyles = {\r\n        \"--cds-label-01-font-size\": \"0.9rem\",\r\n        \"--cds-label-01-font-weight\": 800,\r\n    };\r\n\r\n    switch (dateType) {\r\n        case \"simple\":\r\n            result = (<div style={inlineStyles}>\r\n                        <label class=\"cds--label\">{props.label}</label>\r\n                        <DatePicker {...dateProps} datePickerType={dateType}>\r\n                            <DatePickerInput placeholder={props.placeholder || \"mm/dd/yyyy\"} />\r\n                        </DatePicker>\r\n                        { timePickerEl }\r\n                    </div>);\r\n            break;\r\n        case \"single\":\r\n            result = (<div style={inlineStyles}>\r\n                        <label class=\"cds--label\">{props.label}</label>\r\n                        <DatePicker {...dateProps} datePickerType={dateType}>\r\n                            <DatePickerInput placeholder={props.placeholder || \"mm/dd/yyyy\"} />\r\n                        </DatePicker>\r\n                        { timePickerEl }\r\n                    </div>);\r\n            break;\r\n        case \"range\":\r\n            result = (<div style={inlineStyles}> \r\n                        <label class=\"cds--label\">{props.label}</label>\r\n                        <DatePicker {...dateProps} datePickerType={dateType}>\r\n                            <DatePickerInput placeholder=\"Start\" />\r\n                            <DatePickerInput placeholder=\"End\" />\r\n                        </DatePicker>\r\n                        { timePickerEl }\r\n                    </div>);\r\n            break;\r\n    }\r\n    return result;\r\n}\r\n\r\nconst styles = `\r\n    .cds--date-picker__input {\r\n        border: 1px solid lightgray !important;\r\n        border-radius: 5px;\r\n    }\r\n`\r\nconst props = [{\r\n    name: \"type\",\r\n    defaultValue: \"simple\", //single, simple, range\r\n    type: \"string\"\r\n}, {\r\n    name: \"label\",\r\n    defaultValue: \"\",\r\n    type: \"string\"\r\n}, {\r\n    name: \"format\",\r\n    defaultValue: \"d/m/Y\", //Y-m-d\r\n    type: \"string\"\r\n}, {\r\n    name: \"placeholder\",\r\n    defaultValue: \"dd/mm/yyyy\",\r\n    type: \"string\"\r\n}, {\r\n    name: \"max_date\",\r\n    defaultValue: \"\",\r\n    type: \"string\"\r\n}, {\r\n    name: \"locale\",\r\n    defaultValue: \"no\",\r\n    type: \"string\"\r\n}, {\r\n    name: \"min_date\",\r\n    defaultValue: \"\",\r\n    type: \"string\"\r\n}, {\r\n    name: \"disable\",\r\n    defaultValue: false,\r\n    type: \"boolean\"\r\n}, {\r\n    name: \"show_time\",\r\n    defaultValue: true,\r\n    type: \"boolean\"\r\n}, {\r\n    name: \"value\",\r\n    defaultValue: \"\",\r\n    type: \"string\"\r\n}]\r\n\r\nconst slots = [];\r\n\r\nconst WrappedComponent = wrapper(React.forwardRef(SrsDateTime), props);\r\nexport { WrappedComponent, styles, props, dispatchedEvents, slots };"],"names":["dispatchedEvents","EventAPI","SrsDateTime","props","ref","currentValue","value","currentDateValue","indexOf","split","currentTimeValue","_useState2","_slicedToArray","useState","selectedDate","setSelectedDate","_useState4","selectedTime","setSelectedTime","dateProps","type","datePickerType","format","dateFormat","max_date","maxDate","locale","min_date","minDate","disable","onChange","dispatchEvent","payload","concat","setValue","result","dateType","timePickerEl","show_time","React","TimePicker","id","elementid","labelText","TimePickerSelect","SelectItem","text","inlineStyles","style","class","label","DatePicker","_extends","DatePickerInput","placeholder","styles","name","defaultValue","slots","WrappedComponent","wrapper"],"sourceRoot":""}